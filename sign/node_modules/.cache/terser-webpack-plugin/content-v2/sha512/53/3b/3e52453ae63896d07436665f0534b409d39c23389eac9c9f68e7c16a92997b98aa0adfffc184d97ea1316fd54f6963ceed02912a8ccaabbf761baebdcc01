{"code":"(this[\"webpackJsonphello-world\"]=this[\"webpackJsonphello-world\"]||[]).push([[0],{55:function(e,t){},57:function(e,t){},73:function(e,t,n){},77:function(e,t,n){\"use strict\";n.r(t);var r,a,c,s=n(2),o=n.n(s),i=n(41),u=n.n(i),p=n(10),d=(n(73),n(13)),b=n(14),j=n(47),f=n(18),l=n(17),x=n.n(l),O=n(22),g=n(6),h=b.a.div(r||(r=Object(d.a)([\"\\n  margin: 10px 5px;\\n  padding: 10px;\\n  border: 1px solid #c0c0c0;\\n  border-radius: 5px;\\n\"]))),v=function(e){var t=e.user.loggedIn,n=function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t?p.d():p.a();case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(\"button\",{onClick:n,children:t?\"Sign Out\":\"Sign In/Up\"})},m=function(){var e=Object(s.useState)({}),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(s.useEffect)((function(){return p.c().subscribe((function(e){return r(Object(j.a)({},e))}))}),[]),Object(g.jsx)(h,{children:Object(g.jsx)(v,{user:n})})},w=b.a.div(a||(a=Object(d.a)([\"\\n  margin: 10px 5px;\\n  padding: 10px;\\n  border: 1px solid #c0c0c0;\\n  border-radius: 5px;\\n\"])));b.a.pre(c||(c=Object(d.a)([\"\\n  background: #f0f0f0;\\n  border-radius: 5px;\\n  max-height: 150px;\\n  overflow-y: auto;\\n  padding: 5px;\\n\"])));var S,k=function(){var e=Object(s.useState)(\"--\"),t=Object(f.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(\"--\"),c=Object(f.a)(a,2),o=c[0],i=c[1],u=Object(s.useState)(\"--\"),d=Object(f.a)(u,2),b=d[0],j=d[1],l=function(){var e=Object(O.a)(x.a.mark((function e(t){var n,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=String((new Date).getTime()),s=n,a=Array.from(s).map((function(e){return e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/\\%/g,\"\").toLowerCase()})).join(\"\"),e.next=5,p.c().signUserMessage(a);case 5:c=e.sent,window.parent.postMessage({message:\"compSignatures\",value:{signedMessage:n,compSignatures:c}},\"*\"),r(n),i(JSON.stringify(c)),j(c[0].addr);case 10:case\"end\":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(w,{children:[Object(g.jsx)(\"button\",{onClick:l,children:\"Sign\"}),Object(g.jsx)(\"br\",{}),\"userAddress: \",b,Object(g.jsx)(\"br\",{}),\"message: \",n,Object(g.jsx)(\"br\",{}),\"compSignatures: \",o]})},y=b.a.div(S||(S=Object(d.a)([\"\\n  font-size: 13px;\\n  font-family: Arial, Helvetica, sans-serif;\\n\"])));var C=function(){return Object(g.jsxs)(y,{children:[Object(g.jsx)(m,{}),Object(g.jsx)(k,{})]})};p.b().put(\"accessNode.api\",\"https://access-testnet.onflow.org\").put(\"challenge.handshake\",\"https://flow-wallet-testnet.blocto.app/authn\"),u.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(C,{})}),document.getElementById(\"root\"))}},[[77,1,2]]]);","name":"static/js/main.5cf9d953.chunk.js","map":{"version":3,"sources":["static/js/main.5cf9d953.chunk.js"],"names":["this","push","55","module","exports","57","73","__webpack_require__","77","__webpack_exports__","r","_templateObject","SignUserMessage_templateObject","_templateObject2","react","react_default","n","react_dom","react_dom_default","fcl_module","taggedTemplateLiteral","styled_components_browser_esm","objectSpread2","slicedToArray","regenerator","regenerator_default","asyncToGenerator","jsx_runtime","Card","div","Object","Authenticate_SignInOutButton","_ref","loggedIn","user","signInOrOut","_ref2","a","mark","_callee","event","wrap","_context","prev","next","preventDefault","stop","_x","apply","arguments","onClick","children","Authenticate","_useState","_useState2","setUser","subscribe","SignUserMessage_Card","pre","App_templateObject","SignUserMessage","signedMessage","setSignedMessage","_useState3","_useState4","compSignatures","setCompSignatures","_useState5","_useState6","userAddress","setUserAddress","signUserMessage","currentTimestamp","hexMessage","String","Date","getTime","str","Array","from","map","c","charCodeAt","toString","encodeURIComponent","replace","toLowerCase","join","sent","window","parent","postMessage","message","value","JSON","stringify","addr","Wrapper","src_App","put","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonphello-world\"] = this[\"webpackJsonphello-world\"] || []).push([[0],{\n\n/***/ 55:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 57:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 77:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(41);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/@onflow/fcl/dist/fcl.module.js + 2 modules\nvar fcl_module = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(73);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(47);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(17);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(6);\n\n// CONCATENATED MODULE: ./src/Authenticate.js\nvar _templateObject;var Card=styled_components_browser_esm[\"a\" /* default */].div(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  margin: 10px 5px;\\n  padding: 10px;\\n  border: 1px solid #c0c0c0;\\n  border-radius: 5px;\\n\"])));var Authenticate_SignInOutButton=function SignInOutButton(_ref){var loggedIn=_ref.user.loggedIn;var signInOrOut=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(loggedIn){fcl_module[\"d\" /* unauthenticate */]();}else{fcl_module[\"a\" /* authenticate */]();}case 2:case\"end\":return _context.stop();}}},_callee);}));return function signInOrOut(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:signInOrOut,children:loggedIn?\"Sign Out\":\"Sign In/Up\"});};var Authenticate_CurrentUser=function CurrentUser(){var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),user=_useState2[0],setUser=_useState2[1];Object(react[\"useEffect\"])(function(){return fcl_module[\"c\" /* currentUser */]().subscribe(function(user){return setUser(Object(objectSpread2[\"a\" /* default */])({},user));});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Authenticate_SignInOutButton,{user:user})});};/* harmony default export */ var Authenticate = (Authenticate_CurrentUser);\n// CONCATENATED MODULE: ./src/SignUserMessage.js\nvar SignUserMessage_templateObject,_templateObject2;var SignUserMessage_Card=styled_components_browser_esm[\"a\" /* default */].div(SignUserMessage_templateObject||(SignUserMessage_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  margin: 10px 5px;\\n  padding: 10px;\\n  border: 1px solid #c0c0c0;\\n  border-radius: 5px;\\n\"])));var Code=styled_components_browser_esm[\"a\" /* default */].pre(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  background: #f0f0f0;\\n  border-radius: 5px;\\n  max-height: 150px;\\n  overflow-y: auto;\\n  padding: 5px;\\n\"])));var SignUserMessage_GetLatestBlock=function GetLatestBlock(){var _useState=Object(react[\"useState\"])(\"--\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),signedMessage=_useState2[0],setSignedMessage=_useState2[1];var _useState3=Object(react[\"useState\"])(\"--\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),compSignatures=_useState4[0],setCompSignatures=_useState4[1];var _useState5=Object(react[\"useState\"])(\"--\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),userAddress=_useState6[0],setUserAddress=_useState6[1];var signUserMessage=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var currentTimestamp,hexMessage,compSignatures;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();currentTimestamp=String(new Date().getTime());hexMessage=utf8ToHex(currentTimestamp);_context.next=5;return fcl_module[\"c\" /* currentUser */]().signUserMessage(hexMessage);case 5:compSignatures=_context.sent;window.parent.postMessage({message:\"compSignatures\",value:{signedMessage:currentTimestamp,compSignatures:compSignatures}},\"*\");setSignedMessage(currentTimestamp);setCompSignatures(JSON.stringify(compSignatures));setUserAddress(compSignatures[0].addr);case 10:case\"end\":return _context.stop();}}},_callee);}));return function signUserMessage(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(SignUserMessage_Card,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:signUserMessage,children:\"Sign\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"userAddress: \",userAddress,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"message: \",signedMessage,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"compSignatures: \",compSignatures]});};function utf8ToHex(str){return Array.from(str).map(function(c){return c.charCodeAt(0)<128?c.charCodeAt(0).toString(16):encodeURIComponent(c).replace(/\\%/g,\"\").toLowerCase();}).join(\"\");}function hexToUtf8(hex){return decodeURIComponent(\"%\"+hex.match(/.{1,2}/g).join(\"%\"));}/* harmony default export */ var SignUserMessage = (SignUserMessage_GetLatestBlock);\n// CONCATENATED MODULE: ./src/App.js\nvar App_templateObject;var Wrapper=styled_components_browser_esm[\"a\" /* default */].div(App_templateObject||(App_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  font-size: 13px;\\n  font-family: Arial, Helvetica, sans-serif;\\n\"])));function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Wrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Authenticate,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SignUserMessage,{})]});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nfcl_module[\"b\" /* config */]().put(\"accessNode.api\",\"https://access-testnet.onflow.org\").put(\"challenge.handshake\",\"https://flow-wallet-testnet.blocto.app/authn\");react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[77,1,2]]]);","inputSourceMap":{"version":3,"sources":["ignored /Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/node_modules/readable-stream/lib util","ignored /Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/node_modules/readable-stream/lib/internal/streams util","/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/node_modules/postcss-loader/src/index.js??postcss!/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/src/index.css","/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/src/Authenticate.js","/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/src/SignUserMessage.js","/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/src/App.js","/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/src/index.js"],"names":["Card","styled","div","SignInOutButton","loggedIn","user","signInOrOut","event","preventDefault","fcl","CurrentUser","useState","setUser","useEffect","subscribe","Code","pre","GetLatestBlock","signedMessage","setSignedMessage","compSignatures","setCompSignatures","userAddress","setUserAddress","signUserMessage","currentTimestamp","String","Date","getTime","hexMessage","utf8ToHex","window","parent","postMessage","message","value","JSON","stringify","addr","str","Array","from","map","c","charCodeAt","toString","encodeURIComponent","replace","toLowerCase","join","hexToUtf8","hex","decodeURIComponent","match","Wrapper","App","put","ReactDOM","render","document","getElementById"],"mappings":";;;;;AAAA,e;;;;;;;ACAA,e;;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBCIA,GAAMA,KAAI,CAAGC,gDAAM,CAACC,GAAV,yLAAV,CAOA,GAAMC,6BAAe,CAAG,QAAlBA,gBAAkB,MAA4B,IAAjBC,SAAiB,MAAzBC,IAAyB,CAAjBD,QAAiB,CAClD,GAAME,YAAW,uHAAG,iBAAOC,KAAP,oHAClBA,KAAK,CAACC,cAAN,GACA,GAAIJ,QAAJ,CAAc,CACZK,oCAAA,GACD,CAFD,IAEO,CACLA,kCAAA,GACD,CANiB,sDAAH,kBAAXH,YAAW,6CAAjB,CAQA,mBACE,qCAAQ,OAAO,CAAEA,WAAjB,UACGF,QAAQ,CAAG,UAAH,CAAgB,YAD3B,EADF,CAKD,CAdD,CAeA,GAAMM,yBAAW,CAAG,QAAdA,YAAc,EAAM,eACAC,yBAAQ,CAAC,EAAD,CADR,kEACjBN,IADiB,eACXO,OADW,eAGxBC,0BAAS,CACP,iBAAMJ,kCAAA,GAAkBK,SAAlB,CAA4B,SAACT,IAAD,QAAUO,QAAO,CAAC,4CAAKP,IAAN,EAAjB,EAA5B,CAAN,EADO,CAEP,EAFO,CAAT,CAKA,mBACE,2BAAC,IAAD,wBACE,2BAAC,4BAAD,EAAiB,IAAI,CAAEA,IAAvB,EADF,EADF,CAKD,CAbD,CAeeK,yEAAf,E;;oDCrCA,GAAMV,qBAAI,CAAGC,gDAAM,CAACC,GAAV,uNAAV,CAOA,GAAMa,KAAI,CAAGd,gDAAM,CAACe,GAAV,0MAAV,CAQA,GAAMC,+BAAc,CAAG,QAAjBA,eAAiB,EAAM,eACeN,yBAAQ,CAAC,IAAD,CADvB,kEACpBO,aADoB,eACLC,gBADK,8BAEiBR,yBAAQ,CAAC,IAAD,CAFzB,mEAEpBS,cAFoB,eAEJC,iBAFI,8BAGWV,yBAAQ,CAAC,IAAD,CAHnB,mEAGpBW,WAHoB,eAGPC,cAHO,eAK3B,GAAMC,gBAAe,sHAAG,iBAAOjB,KAAP,mKACtBA,KAAK,CAACC,cAAN,GACMiB,gBAFgB,CAEGC,MAAM,CAAC,GAAIC,KAAJ,GAAWC,OAAX,EAAD,CAFT,CAGhBC,UAHgB,CAGHC,SAAS,CAACL,gBAAD,CAHN,uBAIOhB,kCAAA,GAAkBe,eAAlB,CAAkCK,UAAlC,CAJP,QAIhBT,cAJgB,eAKtBW,MAAM,CAACC,MAAP,CAAcC,WAAd,CACE,CACEC,OAAO,CAAE,gBADX,CAEEC,KAAK,CAAE,CACLjB,aAAa,CAAEO,gBADV,CAELL,cAAc,CAAEA,cAFX,CAFT,CADF,CAQE,GARF,EAUAD,gBAAgB,CAACM,gBAAD,CAAhB,CACAJ,iBAAiB,CAACe,IAAI,CAACC,SAAL,CAAejB,cAAf,CAAD,CAAjB,CACAG,cAAc,CAACH,cAAc,CAAC,CAAD,CAAd,CAAkBkB,IAAnB,CAAd,CAjBsB,uDAAH,kBAAfd,gBAAe,4CAArB,CAoBA,mBACE,4BAAC,oBAAD,yBACE,qCAAQ,OAAO,CAAEA,eAAjB,kBADF,cAEE,mCAFF,iBAGgBF,WAHhB,cAIE,mCAJF,aAKYJ,aALZ,cAME,mCANF,oBAOmBE,cAPnB,GADF,CAWD,CApCD,CAqCA,QAASU,UAAT,CAAmBS,GAAnB,CAAwB,CACtB,MAAOC,MAAK,CAACC,IAAN,CAAWF,GAAX,EACJG,GADI,CACA,SAACC,CAAD,QACHA,EAAC,CAACC,UAAF,CAAa,CAAb,EAAkB,GAAlB,CACID,CAAC,CAACC,UAAF,CAAa,CAAb,EAAgBC,QAAhB,CAAyB,EAAzB,CADJ,CAEIC,kBAAkB,CAACH,CAAD,CAAlB,CAAsBI,OAAtB,CAA8B,KAA9B,CAAqC,EAArC,EAAyCC,WAAzC,EAHD,EADA,EAMJC,IANI,CAMC,EAND,CAAP,CAOD,CACD,QAASC,UAAT,CAAmBC,GAAnB,CAAwB,CACtB,MAAOC,mBAAkB,CAAC,IAAMD,GAAG,CAACE,KAAJ,CAAU,SAAV,EAAqBJ,IAArB,CAA0B,GAA1B,CAAP,CAAzB,CACD,CACchC,kFAAf,E;;uBC/DA,GAAMqC,QAAO,CAAGrD,gDAAM,CAACC,GAAV,qKAAb,CAKA,QAASqD,IAAT,EAAe,CACb,mBACE,4BAAC,OAAD,yBACE,2BAAC,YAAD,IADF,cAEE,2BAAC,eAAD,IAFF,GADF,CAMD,CAEcA,+CAAf,E;;ACbA9C,4BAAA,GAEG+C,GAFH,CAEO,gBAFP,CAEyB,mCAFzB,EAGGA,GAHH,CAGO,qBAHP,CAG8B,8CAH9B,EAKAC,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,OAAD,IADF,EADF,CAIEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,E","file":"x","sourcesContent":["/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport * as fcl from \"@onflow/fcl\";\n\nconst Card = styled.div`\n  margin: 10px 5px;\n  padding: 10px;\n  border: 1px solid #c0c0c0;\n  border-radius: 5px;\n`;\n\nconst SignInOutButton = ({ user: { loggedIn } }) => {\n  const signInOrOut = async (event) => {\n    event.preventDefault();\n    if (loggedIn) {\n      fcl.unauthenticate();\n    } else {\n      fcl.authenticate();\n    }\n  };\n  return (\n    <button onClick={signInOrOut}>\n      {loggedIn ? \"Sign Out\" : \"Sign In/Up\"}\n    </button>\n  );\n};\nconst CurrentUser = () => {\n  const [user, setUser] = useState({});\n\n  useEffect(\n    () => fcl.currentUser().subscribe((user) => setUser({ ...user })),\n    []\n  );\n\n  return (\n    <Card>\n      <SignInOutButton user={user} />\n    </Card>\n  );\n};\n\nexport default CurrentUser;\n","import React, { useState } from \"react\";\nimport * as fcl from \"@onflow/fcl\";\nimport styled from \"styled-components\";\n\nconst Card = styled.div`\n  margin: 10px 5px;\n  padding: 10px;\n  border: 1px solid #c0c0c0;\n  border-radius: 5px;\n`;\n\nconst Code = styled.pre`\n  background: #f0f0f0;\n  border-radius: 5px;\n  max-height: 150px;\n  overflow-y: auto;\n  padding: 5px;\n`;\n\nconst GetLatestBlock = () => {\n  const [signedMessage, setSignedMessage] = useState(\"--\");\n  const [compSignatures, setCompSignatures] = useState(\"--\");\n  const [userAddress, setUserAddress] = useState(\"--\");\n\n  const signUserMessage = async (event) => {\n    event.preventDefault();\n    const currentTimestamp = String(new Date().getTime());\n    const hexMessage = utf8ToHex(currentTimestamp);\n    const compSignatures = await fcl.currentUser().signUserMessage(hexMessage);\n    window.parent.postMessage(\n      {\n        message: \"compSignatures\",\n        value: {\n          signedMessage: currentTimestamp,\n          compSignatures: compSignatures,\n        },\n      },\n      \"*\"\n    );\n    setSignedMessage(currentTimestamp);\n    setCompSignatures(JSON.stringify(compSignatures));\n    setUserAddress(compSignatures[0].addr);\n  };\n\n  return (\n    <Card>\n      <button onClick={signUserMessage}>Sign</button>\n      <br />\n      userAddress: {userAddress}\n      <br />\n      message: {signedMessage}\n      <br />\n      compSignatures: {compSignatures}\n    </Card>\n  );\n};\nfunction utf8ToHex(str) {\n  return Array.from(str)\n    .map((c) =>\n      c.charCodeAt(0) < 128\n        ? c.charCodeAt(0).toString(16)\n        : encodeURIComponent(c).replace(/\\%/g, \"\").toLowerCase()\n    )\n    .join(\"\");\n}\nfunction hexToUtf8(hex) {\n  return decodeURIComponent(\"%\" + hex.match(/.{1,2}/g).join(\"%\"));\n}\nexport default GetLatestBlock;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport Authenticate from \"./Authenticate.js\";\nimport SignUserMessage from \"./SignUserMessage.js\";\nconst Wrapper = styled.div`\n  font-size: 13px;\n  font-family: Arial, Helvetica, sans-serif;\n`;\n\nfunction App() {\n  return (\n    <Wrapper>\n      <Authenticate />\n      <SignUserMessage />\n    </Wrapper>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as fcl from \"@onflow/fcl\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nfcl\n  .config()\n  .put(\"accessNode.api\", \"https://access-testnet.onflow.org\")\n  .put(\"challenge.handshake\", \"https://flow-wallet-testnet.blocto.app/authn\");\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"]}}