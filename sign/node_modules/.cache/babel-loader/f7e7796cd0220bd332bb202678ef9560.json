{"ast":null,"code":"import _objectSpread from\"/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _taggedTemplateLiteral from\"/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import*as fcl from\"@onflow/fcl\";import{jsx as _jsx}from\"react/jsx-runtime\";var Card=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin: 10px 5px;\\n  padding: 10px;\\n  border: 1px solid #c0c0c0;\\n  border-radius: 5px;\\n\"])));var SignInOutButton=function SignInOutButton(_ref){var loggedIn=_ref.user.loggedIn;var signInOrOut=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(loggedIn){fcl.unauthenticate();}else{fcl.authenticate();}case 2:case\"end\":return _context.stop();}}},_callee);}));return function signInOrOut(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"button\",{onClick:signInOrOut,children:loggedIn?\"Sign Out\":\"Sign In/Up\"});};var CurrentUser=function CurrentUser(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){return fcl.currentUser().subscribe(function(user){return setUser(_objectSpread({},user));});},[]);return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(SignInOutButton,{user:user})});};export default CurrentUser;","map":{"version":3,"sources":["/Users/yugo_tokuchi/scripts/blocto-sign-verify/sign/src/Authenticate.js"],"names":["React","useState","useEffect","styled","fcl","Card","div","SignInOutButton","loggedIn","user","signInOrOut","event","preventDefault","unauthenticate","authenticate","CurrentUser","setUser","currentUser","subscribe"],"mappings":"k3BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,aAArB,C,2CAEA,GAAMC,CAAAA,IAAI,CAAGF,MAAM,CAACG,GAAV,+JAAV,CAOA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,MAA4B,IAAjBC,CAAAA,QAAiB,MAAzBC,IAAyB,CAAjBD,QAAiB,CAClD,GAAME,CAAAA,WAAW,2FAAG,iBAAOC,KAAP,kHAClBA,KAAK,CAACC,cAAN,GACA,GAAIJ,QAAJ,CAAc,CACZJ,GAAG,CAACS,cAAJ,GACD,CAFD,IAEO,CACLT,GAAG,CAACU,YAAJ,GACD,CANiB,sDAAH,kBAAXJ,CAAAA,WAAW,6CAAjB,CAQA,mBACE,eAAQ,OAAO,CAAEA,WAAjB,UACGF,QAAQ,CAAG,UAAH,CAAgB,YAD3B,EADF,CAKD,CAdD,CAeA,GAAMO,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,eACAd,QAAQ,CAAC,EAAD,CADR,wCACjBQ,IADiB,eACXO,OADW,eAGxBd,SAAS,CACP,iBAAME,CAAAA,GAAG,CAACa,WAAJ,GAAkBC,SAAlB,CAA4B,SAACT,IAAD,QAAUO,CAAAA,OAAO,kBAAMP,IAAN,EAAjB,EAA5B,CAAN,EADO,CAEP,EAFO,CAAT,CAKA,mBACE,KAAC,IAAD,wBACE,KAAC,eAAD,EAAiB,IAAI,CAAEA,IAAvB,EADF,EADF,CAKD,CAbD,CAeA,cAAeM,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport * as fcl from \"@onflow/fcl\";\n\nconst Card = styled.div`\n  margin: 10px 5px;\n  padding: 10px;\n  border: 1px solid #c0c0c0;\n  border-radius: 5px;\n`;\n\nconst SignInOutButton = ({ user: { loggedIn } }) => {\n  const signInOrOut = async (event) => {\n    event.preventDefault();\n    if (loggedIn) {\n      fcl.unauthenticate();\n    } else {\n      fcl.authenticate();\n    }\n  };\n  return (\n    <button onClick={signInOrOut}>\n      {loggedIn ? \"Sign Out\" : \"Sign In/Up\"}\n    </button>\n  );\n};\nconst CurrentUser = () => {\n  const [user, setUser] = useState({});\n\n  useEffect(\n    () => fcl.currentUser().subscribe((user) => setUser({ ...user })),\n    []\n  );\n\n  return (\n    <Card>\n      <SignInOutButton user={user} />\n    </Card>\n  );\n};\n\nexport default CurrentUser;\n"]},"metadata":{},"sourceType":"module"}